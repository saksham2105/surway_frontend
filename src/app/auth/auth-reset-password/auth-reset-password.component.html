<!-- Loading Spinner -->
<div class="loading_spinner" *ngIf="isLoading">
  <app-loading-spinner></app-loading-spinner>
</div>

<main
  class="d-flex align-items-center min-vh-100 py-3 py-md-0"
  class="reset-password"
  *ngIf="!isLoading"
  [ngStyle]="{ 'background-color': colorCode }"
>
  <div class="container">
    <div class="card reset-password-card">
      <div class="row no-gutters">
        <!-- Left Image in Reset Password Card -->
        <div class="col-md-5">
          <img
            [src]="authImagePath"
            alt="reset-password"
            class="reset-password-card-img"
          />
        </div>
        <!-- Reset Password Form UI in Reset Password Card -->
        <div class="col-md-7">
          <div class="card-body">
            <!-- Brand Details (Logo & Title) -->
            <div class="brand-wrapper">
              <img
                id="brand_pic"
                src="./../../assets/logo.svg"
                alt="logo"
                class="logo"
              />
              <p class="reset-password-card-title">Surway</p>
            </div>
            <p class="reset-password-card-description">
              {{ resetPasswordTitle }}
            </p>

            <!------- FORM BEGINS!! ------->
            <form
              [formGroup]="resetPasswordForm"
              (ngSubmit)="onResetPassword()"
            >
              <!-- Form Password Element -->
              <div class="form-group mb-4">
                <!-- <label for="password">Password</label> -->
                <input
                  type="password"
                  name="password"
                  id="password"
                  class="form-control"
                  placeholder="⋆⋆⋆⋆⋆⋆⋆⋆⋆⋆⋆⋆⋆"
                  formControlName="password"
                  [class.is-invalid]="
                    resetPasswordForm.get('password').invalid &&
                    resetPasswordForm.get('password').touched
                  "
                />
                <!-- Visual Validations for password input -->
                <div
                  *ngIf="
                    (resetPasswordForm.get('password').invalid &&
                      resetPasswordForm.get('password').touched) ||
                    resetPasswordForm.get('password').dirty
                  "
                >
                  <small
                    *ngIf="resetPasswordForm.get('password').errors?.required"
                    class="text-danger"
                    >Password is required
                  </small>

                  <small
                    *ngIf="resetPasswordForm.get('password').errors?.pattern"
                    class="text-danger"
                    >Please provide a password greater than 6 words
                  </small>
                </div>
              </div>

              <!-- Form Confirm Password Element -->
              <div class="form-group mb-4">
                <!-- <label for="password">Password</label> -->
                <input
                  type="password"
                  name="confirm-password"
                  id="confirm-password"
                  class="form-control"
                  placeholder="⋆⋆⋆⋆⋆⋆⋆⋆⋆⋆⋆⋆⋆"
                  formControlName="confirmPassword"
                  [class.is-invalid]="
                    resetPasswordForm.get('confirmPassword').invalid &&
                    resetPasswordForm.get('confirmPassword').touched
                  "
                />
                <!-- Visual Validations for password input -->
                <div
                  *ngIf="
                    (resetPasswordForm.get('confirmPassword').invalid &&
                      resetPasswordForm.get('confirmPassword').touched) ||
                    resetPasswordForm.get('confirmPassword').dirty
                  "
                >
                  <small
                    *ngIf="
                      resetPasswordForm.get('confirmPassword').errors?.required
                    "
                    class="text-danger"
                    >Password is required
                  </small>

                  <small
                    *ngIf="
                      resetPasswordForm.get('confirmPassword').errors?.pattern
                    "
                    class="text-danger"
                    >Please provide a password greater than 6 words
                  </small>
                </div>
              </div>
              <!-- Reset Password Button -->

              <button
                name="reset-password"
                id="reset-password-btn"
                class="btn reset-password-btn mb-4"
                type="submit"
                [disabled]="!resetPasswordForm.valid"
              >
                ResetPassword
              </button>
            </form>
            <!------- FORM ENDS!! ------->

            <!-- Footer (Terms & Privacy Policy) -->
            <nav class="reset-password-card-footer-nav">
              <a href="#!">Terms of use <strong> | </strong></a>
              <app-base-modal></app-base-modal>
              <a href="#!"> Privacy policy</a>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
